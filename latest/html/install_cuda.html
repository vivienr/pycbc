

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Instructions to add CUDA support (optional) &mdash; PyCBC 785ddb documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/terminal.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="PyCBC 785ddb documentation" href="index.html"/>
        <link rel="up" title="Installing PyCBC" href="install.html"/>
        <link rel="next" title="pycbc_make_psd_estimation_workflow: A workflow generator for noise estimation" href="workflow/pycbc_make_psd_estimation_workflow.html"/>
        <link rel="prev" title="Building Documentation for Git Hub Pages" href="build_gh_pages.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PyCBC
          

          
          </a>

          
            
            
              <div class="version">
                1.7.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="credit.html">Use of PyCBC in Scientific Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Running PyCBC under Docker</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="install.html">Installing PyCBC</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="install.html#setting-up-a-virtual-environment-for-installing-pycbc">Setting up a virtual environment for installing PyCBC</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-lalsuite-into-a-virtual-environment">Installing lalsuite into a virtual environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#installing-pycbc-in-a-virtual-environment">Installing PyCBC in a virtual environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#building-and-installing-documentation">Building and Installing Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#modifying-pycbc-glue">Modifying pycbc-glue</a></li>
<li class="toctree-l2"><a class="reference internal" href="install.html#use-of-intel-mkl-optimized-fft-libraries">Use of Intel MKL Optimized FFT libraries</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="install.html#graphics-processing-unit-support-with-cuda">Graphics Processing Unit support with CUDA</a><ul class="current">
<li class="toctree-l3 current"><a class="current reference internal" href="#">Instructions to add CUDA support (optional)</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#installing-the-cuda-dependencies">Installing the CUDA dependencies</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_psd_estimation_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_psd_estimation_workflow</span></code>: A workflow generator for noise estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_coinc_search_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_coinc_search_workflow</span></code>: A workflow to search for gravitational waves</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pygrb.html"><code class="docutils literal"><span class="pre">pycbc_make_offline_grb_workflow</span></code>: A GRB triggered CBC analysis workflow generator</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_inference_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_inference_workflow</span></code>: A parameter estimation workflow generator</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal"><span class="pre">pycbc.tmpltbank</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">PyCBC inference documentation (<code class="docutils literal"><span class="pre">pycbc.inference</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="hwinj.html">Hardware injection waveform generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="banksim.html">Calculating the Effectualness (Fitting Factor) of Template Banks</a></li>
<li class="toctree-l1"><a class="reference internal" href="faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload_to_gracedb.html">Uploading triggers to gracedb</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gw150914.html">Signal Processing with GW150914</a></li>
<li class="toctree-l1"><a class="reference internal" href="frame.html">Reading Gravitational-wave Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="psd.html">Handling PSDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">Generating Noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="waveform.html">Waveforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter.html">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions.html">Using PyCBC Distributions from PyCBC Inference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="building_bundled_executables.html">Building Bundled Executables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documenting PyCBC code</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Creating Releases of PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formats/hdf_format.html">HDF files within the PyCBC workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal"><span class="pre">pycbc.workflow</span></code>)</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="modules.html">pycbc</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCBC</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="install.html">Installing PyCBC</a> &raquo;</li>
        
      <li>Instructions to add CUDA support (optional)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/install_cuda.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="instructions-to-add-cuda-support-optional">
<h1>Instructions to add CUDA support (optional)<a class="headerlink" href="#instructions-to-add-cuda-support-optional" title="Permalink to this headline">Â¶</a></h1>
<p>If you would like to use GPU acceleration of PyCBC through CUDA you will require these additional packages:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.numpy.org">NumPy</a> &gt;= 1.5.1</li>
<li><a class="reference external" href="http://www.nvidia.com/object/cuda_home_new.html">Nvidia CUDA</a> &gt;= 6.5 (driver and libraries)</li>
<li><a class="reference external" href="http://mathema.tician.de/software/pycuda">PyCUDA</a> &gt;= 2015.1.3</li>
<li><a class="reference external" href="http://scikits.appspot.com/cuda">SciKits.cuda</a> &gt;= 0.041</li>
<li><a class="reference external" href="http://www.makotemplates.org/">Mako</a> &gt;= 0.7.2</li>
</ul>
<p>These packages may not be available via the distribution packaging system, at least in the required versions. As described below, most of these packages are available via the python package installer <a class="reference external" href="http://www.pip-installer.org">pip</a>, however custom installation instructions are given where required.</p>
<p>If you are currently in your virtual environment, leave it by running <code class="docutils literal"><span class="pre">deactivate</span></code> as you need to add some additional environment variables before continuing.  Set the shell variable <code class="docutils literal"><span class="pre">NAME</span></code> to the location of your virtual environment. Here we assume that your virtual environment is installed in <code class="docutils literal"><span class="pre">${HOME}/pycbc-dev</span></code>. If it is in different location, you will need to change this as appropriate.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nv">NAME</span><span class="o">=</span><span class="si">${</span><span class="nv">HOME</span><span class="si">}</span>/src/pycbc
</pre></div>
</div>
<p>The install requires that you set the environment variable <code class="docutils literal"><span class="pre">CUDA_ROOT</span></code>, make sure that the CUDA <code class="docutils literal"><span class="pre">bin</span></code> directory is in your path, and add the CUDA library path to your <code class="docutils literal"><span class="pre">LD_LIBRARY_PATH</span></code>. You can do this by adding these commands to your <code class="docutils literal"><span class="pre">activate</span></code> script by running the commands:</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">echo</span> <span class="s1">&#39;export CUDA_ROOT=/usr/local/cuda&#39;</span> &gt;&gt; <span class="nv">$NAME</span>/bin/activate
<span class="nb">echo</span> <span class="s1">&#39;export PATH=${CUDA_ROOT}/bin:${PATH}&#39;</span> &gt;&gt; <span class="nv">$NAME</span>/bin/activate
<span class="nb">echo</span> <span class="s1">&#39;export LD_LIBRARY_PATH=${CUDA_ROOT}/lib64:${LD_LIBRARY_PATH}&#39;</span> &gt;&gt; <span class="nv">$NAME</span>/bin/activate
</pre></div>
</div>
<p>Now activate your virtual environment.</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span><span class="nb">source</span> <span class="si">${</span><span class="nv">NAME</span><span class="si">}</span>/bin/activate
</pre></div>
</div>
<div class="section" id="installing-the-cuda-dependencies">
<h2>Installing the CUDA dependencies<a class="headerlink" href="#installing-the-cuda-dependencies" title="Permalink to this headline">Â¶</a></h2>
<p>Install the dependencies PyCUDA, SciKits.cuda and Mako with by running the commands</p>
<div class="highlight-bash"><div class="highlight"><pre><span></span>pip install pycuda
pip install scikit-cuda
pip install Mako
</pre></div>
</div>
<p>You should now be able to use the CUDA features in PyCBC.</p>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="workflow/pycbc_make_psd_estimation_workflow.html" class="btn btn-neutral float-right" title="pycbc_make_psd_estimation_workflow: A workflow generator for noise estimation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="build_gh_pages.html" class="btn btn-neutral" title="Building Documentation for Git Hub Pages" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016, 2017, Alexander Nitz, Ian Harry, Christopher M. Biwer, Duncan A.  Brown, Josh Willis, and Tito Dal Canton.
      Last updated on May 04, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'785ddb',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/typed.min.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>