

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>pycbc.inference package &mdash; PyCBC 785ddb documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/terminal.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="PyCBC 785ddb documentation" href="index.html"/>
        <link rel="up" title="pycbc package" href="pycbc.html"/>
        <link rel="next" title="pycbc.inject package" href="pycbc.inject.html"/>
        <link rel="prev" title="pycbc.filter package" href="pycbc.filter.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> PyCBC
          

          
          </a>

          
            
            
              <div class="version">
                1.7.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="credit.html">Use of PyCBC in Scientific Publications</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="docker.html">Running PyCBC under Docker</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="install.html">Installing PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_psd_estimation_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_psd_estimation_workflow</span></code>: A workflow generator for noise estimation</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_coinc_search_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_coinc_search_workflow</span></code>: A workflow to search for gravitational waves</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflow/pygrb.html"><code class="docutils literal"><span class="pre">pycbc_make_offline_grb_workflow</span></code>: A GRB triggered CBC analysis workflow generator</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow/pycbc_make_inference_workflow.html"><code class="docutils literal"><span class="pre">pycbc_make_inference_workflow</span></code>: A parameter estimation workflow generator</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tmpltbank.html">PyCBC template bank generation documentation (<code class="docutils literal"><span class="pre">pycbc.tmpltbank</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="inference.html">PyCBC inference documentation (<code class="docutils literal"><span class="pre">pycbc.inference</span></code>)</a></li>
<li class="toctree-l1"><a class="reference internal" href="hwinj.html">Hardware injection waveform generation</a></li>
<li class="toctree-l1"><a class="reference internal" href="banksim.html">Calculating the Effectualness (Fitting Factor) of Template Banks</a></li>
<li class="toctree-l1"><a class="reference internal" href="faithsim.html">Dag Generator for Doing Faithfulness Comparisons</a></li>
<li class="toctree-l1"><a class="reference internal" href="upload_to_gracedb.html">Uploading triggers to gracedb</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gw150914.html">Signal Processing with GW150914</a></li>
<li class="toctree-l1"><a class="reference internal" href="frame.html">Reading Gravitational-wave Frames</a></li>
<li class="toctree-l1"><a class="reference internal" href="psd.html">Handling PSDs</a></li>
<li class="toctree-l1"><a class="reference internal" href="noise.html">Generating Noise</a></li>
<li class="toctree-l1"><a class="reference internal" href="waveform.html">Waveforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="filter.html">Filtering</a></li>
<li class="toctree-l1"><a class="reference internal" href="distributions.html">Using PyCBC Distributions from PyCBC Inference</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="building_bundled_executables.html">Building Bundled Executables</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="documentation.html">Documenting PyCBC code</a></li>
<li class="toctree-l1"><a class="reference internal" href="release.html">Creating Releases of PyCBC</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="formats/hdf_format.html">HDF files within the PyCBC workflow</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="workflow.html">Workflow: the inspiral analysis workflow generator (<code class="docutils literal"><span class="pre">pycbc.workflow</span></code>)</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">pycbc</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="pycbc.html">pycbc package</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="pycbc.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="pycbc.distributions.html">pycbc.distributions package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.events.html">pycbc.events package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.fft.html">pycbc.fft package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.filter.html">pycbc.filter package</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">pycbc.inference package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.inject.html">pycbc.inject package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.io.html">pycbc.io package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.noise.html">pycbc.noise package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.psd.html">pycbc.psd package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.results.html">pycbc.results package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.tmpltbank.html">pycbc.tmpltbank package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.types.html">pycbc.types package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.vetoes.html">pycbc.vetoes package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.waveform.html">pycbc.waveform package</a></li>
<li class="toctree-l4"><a class="reference internal" href="pycbc.workflow.html">pycbc.workflow package</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#submodules">Submodules</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.bin_utils">pycbc.bin_utils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.conversions">pycbc.conversions module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.coordinates">pycbc.coordinates module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.cosmology">pycbc.cosmology module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.detector">pycbc.detector module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.frame">pycbc.frame module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.future">pycbc.future module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.gate">pycbc.gate module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.libutils">pycbc.libutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.opt">pycbc.opt module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.pnutils">pycbc.pnutils module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.pool">pycbc.pool module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.rate">pycbc.rate module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.scheme">pycbc.scheme module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.sensitivity">pycbc.sensitivity module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.strain">pycbc.strain module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.version">pycbc.version module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc.weave">pycbc.weave module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pycbc.html#module-pycbc">Module contents</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">PyCBC</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="modules.html">pycbc</a> &raquo;</li>
        
          <li><a href="pycbc.html">pycbc package</a> &raquo;</li>
        
      <li>pycbc.inference package</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/pycbc.inference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="pycbc-inference-package">
<h1>pycbc.inference package<a class="headerlink" href="#pycbc-inference-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-pycbc.inference.gelman_rubin">
<span id="pycbc-inference-gelman-rubin-module"></span><h2>pycbc.inference.gelman_rubin module<a class="headerlink" href="#module-pycbc.inference.gelman_rubin" title="Permalink to this headline">¶</a></h2>
<p>This modules provides functions for evaluating the Gelman-Rubin convergence
diagnostic statistic.</p>
<dl class="function">
<dt id="pycbc.inference.gelman_rubin.gelman_rubin">
<code class="descclassname">pycbc.inference.gelman_rubin.</code><code class="descname">gelman_rubin</code><span class="sig-paren">(</span><em>chains</em>, <em>auto_burn_in=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/gelman_rubin.html#gelman_rubin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.gelman_rubin.gelman_rubin" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the univariate Gelman-Rubin convergence statistic
which compares the evolution of multiple chains in a Markov-Chain Monte
Carlo process and computes their difference to determine their convergence.
The between-chain and within-chain variances are computed for each sampling
parameter, and a weighted combination of the two is used to determine the
convergence. As the chains converge, the point scale reduction factor
should go to 1.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>chains</strong> (<em>iterable</em>) &#8211; An iterable of numpy.array instances that contain the samples
for each chain. Each chain has shape (nparameters, niterations).</li>
<li><strong>auto_burn_in</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If True, then only use later half of samples provided.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>psrf</strong> &#8211; A numpy.array of shape (nparameters) that has the point estimates of
the potential scale reduction factor.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.array</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.gelman_rubin.walk">
<code class="descclassname">pycbc.inference.gelman_rubin.</code><code class="descname">walk</code><span class="sig-paren">(</span><em>chains</em>, <em>start</em>, <em>end</em>, <em>step</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/gelman_rubin.html#walk"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.gelman_rubin.walk" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates Gelman-Rubin conervergence statistic along chains of data.
This function will advance along the chains and calculate the
statistic for each step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>chains</strong> (<em>iterable</em>) &#8211; An iterable of numpy.array instances that contain the samples
for each chain. Each chain has shape (nparameters, niterations).</li>
<li><strong>start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Start index of blocks to calculate all statistics.</li>
<li><strong>end</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Last index of blocks to calculate statistics.</li>
<li><strong>step</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; Step size to take for next block.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>starts</strong> (<em>numpy.array</em>) &#8211; 1-D array of start indexes of calculations.</li>
<li><strong>ends</strong> (<em>numpy.array</em>) &#8211; 1-D array of end indexes of caluclations.</li>
<li><strong>stats</strong> (<em>numpy.array</em>) &#8211; Array with convergence statistic. It has
shape (nparameters, ncalculations).</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.geweke">
<span id="pycbc-inference-geweke-module"></span><h2>pycbc.inference.geweke module<a class="headerlink" href="#module-pycbc.inference.geweke" title="Permalink to this headline">¶</a></h2>
<p>Functions for computing the Geweke convergence statistic.</p>
<dl class="function">
<dt id="pycbc.inference.geweke.geweke">
<code class="descclassname">pycbc.inference.geweke.</code><code class="descname">geweke</code><span class="sig-paren">(</span><em>x</em>, <em>seg_length</em>, <em>seg_stride</em>, <em>end_idx</em>, <em>ref_start</em>, <em>ref_end=None</em>, <em>seg_start=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/geweke.html#geweke"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.geweke.geweke" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates Geweke conervergence statistic for a chain of data.
This function will advance along the chain and calculate the
statistic for each step.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> (<em>numpy.array</em>) &#8211; A one-dimensional array of data.</li>
<li><strong>seg_length</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of samples to use for each Geweke calculation.</li>
<li><strong>seg_stride</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of samples to advance before next Geweke calculation.</li>
<li><strong>end_idx</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of last start.</li>
<li><strong>ref_start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of beginning of end reference segment.</li>
<li><strong>ref_end</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of end of end reference segment. Default is None which
will go to the end of the data array.</li>
<li><strong>seg_start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; What index to start computing the statistic. Default is 0 which
will go to the beginning of the data array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>starts</strong> (<em>numpy.array</em>) &#8211; The start index of the first segment in the chain.</li>
<li><strong>ends</strong> (<em>numpy.array</em>) &#8211; The end index of the first segment in the chain.</li>
<li><strong>stats</strong> (<em>numpy.array</em>) &#8211; The Geweke convergence diagnostic statistic for the segment.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.likelihood">
<span id="pycbc-inference-likelihood-module"></span><h2>pycbc.inference.likelihood module<a class="headerlink" href="#module-pycbc.inference.likelihood" title="Permalink to this headline">¶</a></h2>
<p>This modules provides classes and functions for evaluating the log likelihood
for parameter estimation.</p>
<dl class="class">
<dt id="pycbc.inference.likelihood.GaussianLikelihood">
<em class="property">class </em><code class="descclassname">pycbc.inference.likelihood.</code><code class="descname">GaussianLikelihood</code><span class="sig-paren">(</span><em>waveform_generator</em>, <em>data</em>, <em>f_lower</em>, <em>psds=None</em>, <em>f_upper=None</em>, <em>norm=None</em>, <em>prior=None</em>, <em>return_meta=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/likelihood.html#GaussianLikelihood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.likelihood.GaussianLikelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.likelihood._BaseLikelihoodEvaluator</span></code></p>
<p>Computes log likelihoods assuming the detectors&#8217; noise is Gaussian.</p>
<p>With Gaussian noise the log likelihood functions for signal
<img src="_images/mathmpl/math-505add5536.png" style="position: relative; bottom: -8px"/> and for noise <img src="_images/mathmpl/math-36d785eb1a.png" style="position: relative; bottom: -8px"/> are given by:</p>
<img src="_images/mathmpl/math-902c41a92d.png" class="center" /><p>where the sum is over the number of detectors, <img src="_images/mathmpl/math-d82512cc4e.png" style="position: relative; bottom: -6px"/> is the data in
each detector, and <img src="_images/mathmpl/math-fb8aaadbc9.png" style="position: relative; bottom: -8px"/> is the model signal in each
detector. The inner product is given by:</p>
<img src="_images/mathmpl/math-cb481c93c4.png" class="center" /><p>where <img src="_images/mathmpl/math-38368e9fc8.png" style="position: relative; bottom: -8px"/> is the PSD in the given detector.</p>
<p>Note that the log prior-weighted likelihood ratio has one less term
than the log posterior, since the <img src="_images/mathmpl/math-4db273aac0.png" style="position: relative; bottom: -7px"/> term cancels
in the likelihood ratio:</p>
<img src="_images/mathmpl/math-5ae2db5399.png" class="center" /><p>For this reason, by default this class returns <cite>logplr</cite> when called as a
function instead of <cite>logposterior</cite>. This can be changed via the
<cite>set_callfunc</cite> method.</p>
<p>Upon initialization, the data is whitened using the given PSDs. If no PSDs
are given the data and waveforms returned by the waveform generator are
assumed to be whitened. The likelihood function of the noise,</p>
<img src="_images/mathmpl/math-368ecb1e66.png" class="center" /><p>is computed on initialization and stored as the <cite>lognl</cite> attribute.</p>
<p>By default, the data is assumed to be equally sampled in frequency, but
unequally sampled data can be supported by passing the appropriate
normalization using the <cite>norm</cite> keyword argument.</p>
<p>For more details on initialization parameters and definition of terms, see
<cite>_BaseLikelihoodEvaluator</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>waveform_generator</strong> (<em>generator class</em>) &#8211; A generator class that creates waveforms. This must have a generate
function which takes a set of parameter values as arguments, a
detectors attribute which is a dictionary of detectors keyed by their
names, and an epoch which specifies the start time of the generated
waveform.</li>
<li><strong>data</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; A dictionary of data, in which the keys are the detector names and the
values are the data (assumed to be unwhitened). The list of keys must
match the waveform generator&#8217;s detectors keys, and the epoch of every
data set must be the same as the waveform generator&#8217;s epoch.</li>
<li><strong>f_lower</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a>) &#8211; The starting frequency to use for computing inner products.</li>
<li><strong>psds</strong> (<em>{None</em><em>, </em><em>dict}</em>) &#8211; A dictionary of FrequencySeries keyed by the detector names. The
dictionary must have a psd for each detector specified in the data
dictionary. If provided, the inner products in each detector will be
weighted by 1/psd of that detector.</li>
<li><strong>f_upper</strong> (<em>{None</em><em>, </em><em>float}</em>) &#8211; The ending frequency to use for computing inner products. If not
provided, the minimum of the largest frequency stored in the data
and a given waveform will be used.</li>
<li><strong>norm</strong> (<em>{None</em><em>, </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)"><em>float</em></a><em> or </em><em>array}</em>) &#8211; An extra normalization weight to apply to the inner products. Can be
either a float or an array. If <cite>None</cite>, <cite>4*data.values()[0].delta_f</cite>
will be used.</li>
<li><strong>prior</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#callable" title="(in Python v2.7)"><em>callable</em></a>) &#8211; A callable class or function that computes the prior.</li>
<li><strong>return_meta</strong> (<em>{True</em><em>, </em><em>bool}</em>) &#8211; If True, <cite>logposterior</cite> and <cite>logplr</cite> will return the value of the
prior and the loglikelihood ratio, along with the posterior/plr.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<p>Create a signal, and set up the likelihood evaluator on that signal:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">seglen</span> <span class="o">=</span> <span class="mi">4</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">sample_rate</span> <span class="o">=</span> <span class="mi">2048</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">N</span> <span class="o">=</span> <span class="n">seglen</span><span class="o">*</span><span class="n">sample_rate</span><span class="o">/</span><span class="mi">2</span><span class="o">+</span><span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fmin</span> <span class="o">=</span> <span class="mf">30.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">m1</span><span class="p">,</span> <span class="n">m2</span><span class="p">,</span> <span class="n">s1z</span><span class="p">,</span> <span class="n">s2z</span><span class="p">,</span> <span class="n">tsig</span><span class="p">,</span> <span class="n">ra</span><span class="p">,</span> <span class="n">dec</span><span class="p">,</span> <span class="n">pol</span><span class="p">,</span> <span class="n">dist</span> <span class="o">=</span> <span class="mf">38.6</span><span class="p">,</span> <span class="mf">29.3</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="mf">3.1</span><span class="p">,</span> <span class="mf">1.37</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.26</span><span class="p">,</span> <span class="mf">2.76</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="mf">500.</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">generator</span> <span class="o">=</span> <span class="n">waveform</span><span class="o">.</span><span class="n">FDomainDetFrameGenerator</span><span class="p">(</span><span class="n">waveform</span><span class="o">.</span><span class="n">FDomainCBCGenerator</span><span class="p">,</span> <span class="mf">0.</span><span class="p">,</span> <span class="n">variable_args</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tc&#39;</span><span class="p">],</span> <span class="n">detectors</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;H1&#39;</span><span class="p">,</span> <span class="s1">&#39;L1&#39;</span><span class="p">],</span> <span class="n">delta_f</span><span class="o">=</span><span class="mf">1.</span><span class="o">/</span><span class="n">seglen</span><span class="p">,</span> <span class="n">f_lower</span><span class="o">=</span><span class="n">fmin</span><span class="p">,</span> <span class="n">approximant</span><span class="o">=</span><span class="s1">&#39;SEOBNRv2_ROM_DoubleSpin&#39;</span><span class="p">,</span> <span class="n">mass1</span><span class="o">=</span><span class="n">m1</span><span class="p">,</span> <span class="n">mass2</span><span class="o">=</span><span class="n">m2</span><span class="p">,</span> <span class="n">spin1z</span><span class="o">=</span><span class="n">s1z</span><span class="p">,</span> <span class="n">spin2z</span><span class="o">=</span><span class="n">s2z</span><span class="p">,</span> <span class="n">ra</span><span class="o">=</span><span class="n">ra</span><span class="p">,</span> <span class="n">dec</span><span class="o">=</span><span class="n">dec</span><span class="p">,</span> <span class="n">polarization</span><span class="o">=</span><span class="n">pol</span><span class="p">,</span> <span class="n">distance</span><span class="o">=</span><span class="n">dist</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">signal</span> <span class="o">=</span> <span class="n">generator</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="n">tsig</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psd</span> <span class="o">=</span> <span class="n">pypsd</span><span class="o">.</span><span class="n">aLIGOZeroDetHighPower</span><span class="p">(</span><span class="n">N</span><span class="p">,</span> <span class="mf">1.</span><span class="o">/</span><span class="n">seglen</span><span class="p">,</span> <span class="mf">20.</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">psds</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;H1&#39;</span><span class="p">:</span> <span class="n">psd</span><span class="p">,</span> <span class="s1">&#39;L1&#39;</span><span class="p">:</span> <span class="n">psd</span><span class="p">}</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">likelihood_eval</span> <span class="o">=</span> <span class="n">inference</span><span class="o">.</span><span class="n">GaussianLikelihood</span><span class="p">(</span><span class="n">generator</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="n">fmin</span><span class="p">,</span> <span class="n">psds</span><span class="o">=</span><span class="n">psds</span><span class="p">,</span> <span class="n">return_meta</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
<p>Now compute the log likelihood ratio and prior-weighted likelihood ratio;
since we have not provided a prior, these should be equal to each other:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">likelihood_eval</span><span class="o">.</span><span class="n">loglr</span><span class="p">([</span><span class="n">tsig</span><span class="p">]),</span> <span class="n">likelihood_eval</span><span class="o">.</span><span class="n">logplr</span><span class="p">([</span><span class="n">tsig</span><span class="p">])</span>
<span class="go">    (ArrayWithAligned(277.92945279883855), ArrayWithAligned(277.92945279883855))</span>
</pre></div>
</div>
<p>Compute the log likelihood and log posterior; since we have not
provided a prior, these should both be equal to zero:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">likelihood_eval</span><span class="o">.</span><span class="n">loglikelihood</span><span class="p">([</span><span class="n">tsig</span><span class="p">]),</span> <span class="n">likelihood_eval</span><span class="o">.</span><span class="n">logposterior</span><span class="p">([</span><span class="n">tsig</span><span class="p">])</span>
<span class="go">    (ArrayWithAligned(0.0), ArrayWithAligned(0.0))</span>
</pre></div>
</div>
<p>Compute the SNR; for this system and PSD, this should be approximately 24:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">likelihood_eval</span><span class="o">.</span><span class="n">snr</span><span class="p">([</span><span class="n">tsig</span><span class="p">])</span>
<span class="go">    ArrayWithAligned(23.576660187517593)</span>
</pre></div>
</div>
<p>Using the same likelihood evaluator, evaluate the log prior-weighted
likelihood ratio at several points in time, check that the max is at tsig,
and plot (note that we use the class as a function here, which defaults
to calling <cite>logplr</cite>):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">matplotlib</span> <span class="k">import</span> <span class="n">pyplot</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="n">seglen</span><span class="o">*</span><span class="n">sample_rate</span><span class="p">)</span><span class="o">/</span><span class="nb">float</span><span class="p">(</span><span class="n">sample_rate</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">lls</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">likelihood_eval</span><span class="p">([</span><span class="n">t</span><span class="p">])</span> <span class="k">for</span> <span class="n">t</span> <span class="ow">in</span> <span class="n">times</span><span class="p">])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">times</span><span class="p">[</span><span class="n">lls</span><span class="o">.</span><span class="n">argmax</span><span class="p">()]</span>
<span class="go">    3.10009765625</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span> <span class="o">=</span> <span class="n">pyplot</span><span class="o">.</span><span class="n">figure</span><span class="p">();</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">fig</span><span class="o">.</span><span class="n">add_subplot</span><span class="p">(</span><span class="mi">111</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">times</span><span class="p">,</span> <span class="n">lls</span><span class="p">)</span>
<span class="go">    [&lt;matplotlib.lines.Line2D at 0x1274b5c50&gt;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
<p>Create a prior and use it (see prior module for more details):</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">pycbc.inference</span> <span class="k">import</span> <span class="n">prior</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">uniform_prior</span> <span class="o">=</span> <span class="n">prior</span><span class="o">.</span><span class="n">Uniform</span><span class="p">(</span><span class="n">tc</span><span class="o">=</span><span class="p">(</span><span class="n">tsig</span><span class="o">-</span><span class="mf">0.2</span><span class="p">,</span><span class="n">tsig</span><span class="o">+</span><span class="mf">0.2</span><span class="p">))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">prior_eval</span> <span class="o">=</span> <span class="n">prior</span><span class="o">.</span><span class="n">PriorEvaluator</span><span class="p">([</span><span class="s1">&#39;tc&#39;</span><span class="p">],</span> <span class="n">uniform_prior</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">likelihood_eval</span> <span class="o">=</span> <span class="n">inference</span><span class="o">.</span><span class="n">GaussianLikelihood</span><span class="p">(</span><span class="n">generator</span><span class="p">,</span> <span class="n">signal</span><span class="p">,</span> <span class="mf">20.</span><span class="p">,</span> <span class="n">psds</span><span class="o">=</span><span class="n">psds</span><span class="p">,</span> <span class="n">prior</span><span class="o">=</span><span class="n">prior_eval</span><span class="p">,</span> <span class="n">return_meta</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">likelihood_eval</span><span class="o">.</span><span class="n">logplr</span><span class="p">([</span><span class="n">tsig</span><span class="p">]),</span> <span class="n">likelihood_eval</span><span class="o">.</span><span class="n">logposterior</span><span class="p">([</span><span class="n">tsig</span><span class="p">])</span>
<span class="go">    (ArrayWithAligned(278.84574353071264), ArrayWithAligned(0.9162907318741418))</span>
</pre></div>
</div>
<dl class="method">
<dt id="pycbc.inference.likelihood.GaussianLikelihood.loglikelihood">
<code class="descname">loglikelihood</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/likelihood.html#GaussianLikelihood.loglikelihood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.likelihood.GaussianLikelihood.loglikelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the log likelihood of the paramaters,</p>
<img src="_images/mathmpl/math-91ea208f71.png" class="center" /><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>array-like</em>) &#8211; An array of numerical values to pass to the waveform generator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The value of the log likelihood evaluated at the given point.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.likelihood.GaussianLikelihood.loglr">
<code class="descname">loglr</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/likelihood.html#GaussianLikelihood.loglr"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.likelihood.GaussianLikelihood.loglr" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the log likelihood ratio,</p>
<img src="_images/mathmpl/math-bbd282782b.png" class="center" /><p>at the given point in parameter space <img src="_images/mathmpl/math-98c28d2d1b.png" style="position: relative; bottom: -3px"/>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>array-like</em>) &#8211; An array of numerical values to pass to the waveform generator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The value of the log likelihood ratio evaluated at the given point.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#float" title="(in Python v2.7)">float</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.likelihood.GaussianLikelihood.lognl">
<code class="descname">lognl</code><a class="headerlink" href="#pycbc.inference.likelihood.GaussianLikelihood.lognl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pycbc.inference.likelihood.GaussianLikelihood.logposterior">
<code class="descname">logposterior</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/likelihood.html#GaussianLikelihood.logposterior"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.likelihood.GaussianLikelihood.logposterior" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the log-posterior probability at the given point in
parameter space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<em>array-like</em>) &#8211; An array of numerical values to pass to the waveform generator.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><em>float</em> &#8211; The value of the log-posterior evaluated at the given point in
parameter space.</li>
<li><strong>metadata</strong> (<em>tuple</em>) &#8211; If <cite>return_meta</cite>, the prior and likelihood ratio as a tuple.
Otherwise, just returns the log-posterior.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.likelihood.GaussianLikelihood.name">
<code class="descname">name</code><em class="property"> = 'gaussian'</em><a class="headerlink" href="#pycbc.inference.likelihood.GaussianLikelihood.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.option_utils">
<span id="pycbc-inference-option-utils-module"></span><h2>pycbc.inference.option_utils module<a class="headerlink" href="#module-pycbc.inference.option_utils" title="Permalink to this headline">¶</a></h2>
<p>This module contains standard options used for inference-related programs.</p>
<dl class="function">
<dt id="pycbc.inference.option_utils.add_config_opts_to_parser">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">add_config_opts_to_parser</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#add_config_opts_to_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.add_config_opts_to_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds options for the configuration files to the given parser.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.add_density_option_group">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">add_density_option_group</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#add_density_option_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.add_density_option_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options needed to configure contours and density colour map.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) &#8211; ArgumentParser instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.add_inference_results_option_group">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">add_inference_results_option_group</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#add_inference_results_option_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.add_inference_results_option_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options used to call pycbc.inference.results_from_cli function
to an argument parser. These are options releated to loading the results
from a run of pycbc_inference, for purposes of plotting and/or creating
tables.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) &#8211; ArgumentParser instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.add_low_frequency_cutoff_opt">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">add_low_frequency_cutoff_opt</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#add_low_frequency_cutoff_opt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.add_low_frequency_cutoff_opt" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the low-frequency-cutoff option to the given parser.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.add_plot_posterior_option_group">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">add_plot_posterior_option_group</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#add_plot_posterior_option_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.add_plot_posterior_option_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options needed to configure plots of posterior results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) &#8211; ArgumentParser instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.add_sampler_option_group">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">add_sampler_option_group</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#add_sampler_option_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.add_sampler_option_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options needed to set up an inference sampler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) &#8211; ArgumentParser instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.add_scatter_option_group">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">add_scatter_option_group</code><span class="sig-paren">(</span><em>parser</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#add_scatter_option_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.add_scatter_option_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the options needed to configure scatter plots.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parser</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) &#8211; ArgumentParser instance.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.config_parser_from_cli">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">config_parser_from_cli</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#config_parser_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.config_parser_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a config file from the given options, applying any overrides
specified. Specifically, config files are loaded from the <cite>&#8211;config-files</cite>
options while overrides are loaded from <cite>&#8211;config-overrides</cite>.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.convert_liststring_to_list">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">convert_liststring_to_list</code><span class="sig-paren">(</span><em>lstring</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#convert_liststring_to_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.convert_liststring_to_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Checks if an argument of the configuration file is a string of a list
and returns the corresponding list (of strings).</p>
<p>The argument is considered to be a list if it starts with &#8216;[&#8216; and ends
with &#8216;]&#8217;. List elements should be comma separated. For example, passing
<cite>&#8216;[foo bar, cat]&#8217;</cite> will result in <cite>[&#8216;foo bar&#8217;, &#8216;cat&#8217;]</cite> being returned. If
the argument does not start and end with &#8216;[&#8216; and &#8216;]&#8217;, the argument will
just be returned as is.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.data_from_cli">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">data_from_cli</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#data_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.data_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads the data needed for a likelihood evaluator from the given
command-line options. Gates specifed on the command line are also applied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<em>ArgumentParser parsed args</em>) &#8211; Argument options parsed from a command line string (the sort of thing
returned by <cite>parser.parse_args</cite>).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>strain_dict</strong> (<em>dict</em>) &#8211; Dictionary of instruments -&gt; <cite>TimeSeries</cite> strain.</li>
<li><strong>stilde_dict</strong> (<em>dict</em>) &#8211; Dictionary of instruments -&gt; <cite>FrequencySeries</cite> strain.</li>
<li><strong>psd_dict</strong> (<em>dict</em>) &#8211; Dictionary of instruments -&gt; <cite>FrequencySeries</cite> psds.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.expected_parameters_from_cli">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">expected_parameters_from_cli</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#expected_parameters_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.expected_parameters_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the &#8211;expected-parameters arguments from the <cite>plot_posterior</cite>
option group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<em>ArgumentParser</em>) &#8211; The parsed arguments from the command line.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of parameter name -&gt; expected value. Only parameters that
were specified in the &#8211;expected-parameters option will be included; if
no parameters were provided, will return an empty dictionary.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.get_zvalues">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">get_zvalues</code><span class="sig-paren">(</span><em>fp</em>, <em>arg</em>, <em>likelihood_stats</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#get_zvalues"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.get_zvalues" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the data for the z-value of the plots from the inference file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open inference file; needed to get the value of the log noise
likelihood.</li>
<li><strong>arg</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; The argument to plot; must be one of <cite>loglr</cite>, <cite>snr</cite>, <cite>logplr</cite>,
<cite>logposterior</cite>, or <cite>prior</cite>. If not one of these, a ValueError is
raised.</li>
<li><strong>likelihood_stats</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray"><em>FieldArray</em></a>) &#8211; The likelihood stats; the sort of thing returned by
<cite>fp.read_likelihood_stats</cite>.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>zvals</strong> (<em>numpy.array</em>) &#8211; An array of the desired likelihood values to plot.</li>
<li><strong>zlbl</strong> (<em>str</em>) &#8211; The label to use for the values on a plot.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.low_frequency_cutoff_from_cli">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">low_frequency_cutoff_from_cli</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#low_frequency_cutoff_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.low_frequency_cutoff_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the low frequency cutoff from the given options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Dictionary of instruments -&gt; low frequency cutoff.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)">dict</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.plot_ranges_from_cli">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">plot_ranges_from_cli</code><span class="sig-paren">(</span><em>opts</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#plot_ranges_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.plot_ranges_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the mins and maxs arguments from the <cite>plot_posterior</cite> option
group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>opts</strong> (<em>ArgumentParser</em>) &#8211; The parsed arguments from the command line.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>mins</strong> (<em>dict</em>) &#8211; Dictionary of parameter name -&gt; specified mins. Only parameters that
were specified in the &#8211;mins option will be included; if no parameters
were provided, will return an empty dictionary.</li>
<li><strong>maxs</strong> (<em>dict</em>) &#8211; Dictionary of parameter name -&gt; specified maxs. Only parameters that
were specified in the &#8211;mins option will be included; if no parameters
were provided, will return an empty dictionary.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.read_args_from_config">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">read_args_from_config</code><span class="sig-paren">(</span><em>cp</em>, <em>section_group=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#read_args_from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.read_args_from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Given an open config file, loads the static and variable arguments to
use in the parameter estmation run.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>cp</strong> (<a class="reference internal" href="pycbc.workflow.html#pycbc.workflow.configuration.WorkflowConfigParser" title="pycbc.workflow.configuration.WorkflowConfigParser"><em>WorkflowConfigParser</em></a>) &#8211; An open config parser to read from.</li>
<li><strong>section_group</strong> (<em>{None</em><em>, </em><em>str}</em>) &#8211; When reading the config file, only read from sections that begin with
<cite>{section_group}_</cite>. For example, if <cite>section_group=&#8217;foo&#8217;</cite>, the
variable arguments will be retrieved from section
<cite>[foo_variable_args]</cite>. If None, no prefix will be appended to section
names.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>variable_args</strong> (<em>list</em>) &#8211; The names of the parameters to vary in the PE run.</li>
<li><strong>static_args</strong> (<em>dict</em>) &#8211; Dictionary of names -&gt; values giving the parameters to keep fixed.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.results_from_cli">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">results_from_cli</code><span class="sig-paren">(</span><em>opts</em>, <em>load_samples=True</em>, <em>walkers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#results_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.results_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads an inference result file along with any labels associated with it
from the command line options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<em>ArgumentParser options</em>) &#8211; The options from the command line.</li>
<li><strong>load_samples</strong> (<em>{True</em><em>, </em><em>bool}</em>) &#8211; Load samples from the results file using the parameters, thin_start,
and thin_interval specified in the options. The samples are returned
as a FieldArray instance.</li>
<li><strong>walkers</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><em>int}</em>) &#8211; If loading samples, the walkers to load from. If None, will load from
all walkers.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>result_file</strong> (<em>pycbc.io.InferenceFile</em>) &#8211; The result file as an InferenceFile.</li>
<li><strong>parameters</strong> (<em>list</em>) &#8211; List of the parameters to use, parsed from the parameters option.</li>
<li><strong>labels</strong> (<em>list</em>) &#8211; List of labels to associate with the parameters.</li>
<li><strong>samples</strong> (<em>{None, FieldArray}</em>) &#8211; If load_samples, the samples as a FieldArray; otherwise, None.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.option_utils.sampler_from_cli">
<code class="descclassname">pycbc.inference.option_utils.</code><code class="descname">sampler_from_cli</code><span class="sig-paren">(</span><em>opts</em>, <em>likelihood_evaluator</em>, <em>pool=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/option_utils.html#sampler_from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.option_utils.sampler_from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Parses the given command-line options to set up a sampler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><em>object</em></a>) &#8211; ArgumentParser options.</li>
<li><strong>likelihood_evaluator</strong> (<em>LikelihoodEvaluator</em>) &#8211; The likelihood evaluator to use with the sampler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A sampler initialized based on the given arguments.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#module-pycbc.inference.sampler" title="pycbc.inference.sampler">pycbc.inference.sampler</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.prior">
<span id="pycbc-inference-prior-module"></span><h2>pycbc.inference.prior module<a class="headerlink" href="#module-pycbc.inference.prior" title="Permalink to this headline">¶</a></h2>
<p>This modules provides classes and functions for evaluating the prior
for parameter estimation.</p>
<dl class="class">
<dt id="pycbc.inference.prior.PriorEvaluator">
<em class="property">class </em><code class="descclassname">pycbc.inference.prior.</code><code class="descname">PriorEvaluator</code><span class="sig-paren">(</span><em>variable_args</em>, <em>*distributions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/prior.html#PriorEvaluator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.prior.PriorEvaluator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>Callable class that calculates the prior.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>variable_args</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; A list of strings that contain the names of the variable parameters and
the order they are expected when the class is called.</li>
<li><strong>*distributions</strong> &#8211; The rest of the arguments must be instances of distributions describing
the priors on the variable parameters. A single distribution may contain
multiple parameters. The set of all params across the distributions
(retrieved from the distributions&#8217; params attribute) must be the same
as the set of variable_args provided.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.prior.PriorEvaluator.variable_args">
<code class="descname">variable_args</code><a class="headerlink" href="#pycbc.inference.prior.PriorEvaluator.variable_args" title="Permalink to this definition">¶</a></dt>
<dd><p><em>tuple</em> &#8211; The parameters expected when the evaluator is called.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.prior.PriorEvaluator.distributions">
<code class="descname">distributions</code><a class="headerlink" href="#pycbc.inference.prior.PriorEvaluator.distributions" title="Permalink to this definition">¶</a></dt>
<dd><p><em>list</em> &#8211; The distributions for the parameters.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.prior.PriorEvaluator.apply_boundary_conditions">
<code class="descname">apply_boundary_conditions</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/prior.html#PriorEvaluator.apply_boundary_conditions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.prior.PriorEvaluator.apply_boundary_conditions" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies each distributions&#8217; boundary conditions to the given list
of parameters, returning a new list with the conditions applied.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>params</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; List of parameters to apply conditions to. The order of the
parameters is assumed to be the same as self.variable_args.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of the parameters after each distribution&#8217;s
<cite>apply_boundary_conditions</cite> function has been applied.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)">list</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.sampler">
<span id="pycbc-inference-sampler-module"></span><h2>pycbc.inference.sampler module<a class="headerlink" href="#module-pycbc.inference.sampler" title="Permalink to this headline">¶</a></h2>
<p>This modules provides a list of implemented samplers for parameter estimation.</p>
</div>
<div class="section" id="module-pycbc.inference.sampler_base">
<span id="pycbc-inference-sampler-base-module"></span><h2>pycbc.inference.sampler_base module<a class="headerlink" href="#module-pycbc.inference.sampler_base" title="Permalink to this headline">¶</a></h2>
<p>This modules provides classes and functions for using different sampler
packages for parameter estimation.</p>
<dl class="class">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampler_base.</code><code class="descname">BaseMCMCSampler</code><span class="sig-paren">(</span><em>sampler</em>, <em>likelihood_evaluator</em>, <em>min_burn_in=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampler_base._BaseSampler</span></code></p>
<p>This class is used to construct the MCMC sampler from the kombine-like
packages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>sampler</strong> (<em>sampler instance</em>) &#8211; An instance of an MCMC sampler similar to kombine or emcee.</li>
<li><strong>likelihood_evaluator</strong> (<em>likelihood class</em>) &#8211; An instance of the likelihood class from the
pycbc.inference.likelihood module.</li>
<li><strong>min_burn_in</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Set the minimum number of burn in iterations to use. If None,
<cite>burn_in_iterations</cite> will be initialized to <cite>0</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="attribute">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.sampler">
<code class="descname">sampler</code><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.sampler" title="Permalink to this definition">¶</a></dt>
<dd><p>The MCMC sampler instance used.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.p0">
<code class="descname">p0</code><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.p0" title="Permalink to this definition">¶</a></dt>
<dd><p><em>nwalkers x ndim array</em> &#8211; The initial position of the walkers. Set by using set_p0. If not set
yet, a ValueError is raised when the attribute is accessed.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.pos">
<code class="descname">pos</code><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.pos" title="Permalink to this definition">¶</a></dt>
<dd><p><em>{None, array}</em> &#8211; An array of the current walker positions.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.acceptance_fraction">
<code class="descname">acceptance_fraction</code><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.acceptance_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the fraction of walkers that accepted each step as an array.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.compute_acls">
<em class="property">classmethod </em><code class="descname">compute_acls</code><span class="sig-paren">(</span><em>fp</em>, <em>start_index=None</em>, <em>end_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.compute_acls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.compute_acls" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the autocorrleation length for all variable args and all
walkers in the given file. If the returned acl is inf, will default
to the number of requested iterations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the samples from.</li>
<li><strong>start_index</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; The start index to compute the acl from. If None, will try to use
the number of burn-in iterations in the file; otherwise, will start
at the first sample.</li>
<li><strong>end_index</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; The end index to compute the acl to. If None, will go to the end
of the current iteration.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An nwalkers-long <cite>FieldArray</cite> containing the acl for each walker
and each variable argument, with the variable arguments as fields.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray">FieldArray</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.likelihood_stats">
<code class="descname">likelihood_stats</code><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.likelihood_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the likelihood stats as a FieldArray, with field names
corresponding to the type of data returned by the likelihood evaluator.
The returned array has shape nwalkers x niterations. If no additional
stats were returned to the sampler by the likelihood evaluator, returns
None.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.name">
<code class="descname">name</code><em class="property"> = None</em><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.nwalkers">
<code class="descname">nwalkers</code><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.nwalkers" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the number of walkers.</p>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">p0</code></dt>
<dd></dd></dl>

<dl class="attribute">
<dt>
<code class="descname">pos</code></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.read_acceptance_fraction">
<em class="property">static </em><code class="descname">read_acceptance_fraction</code><span class="sig-paren">(</span><em>fp</em>, <em>thin_start=None</em>, <em>thin_interval=None</em>, <em>thin_end=None</em>, <em>iteration=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.read_acceptance_fraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.read_acceptance_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the acceptance fraction from the given file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the samples from.</li>
<li><strong>walkers</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><em>int}</em>) &#8211; The walker index (or a list of indices) to retrieve. If None,
samples from all walkers will be obtained.</li>
<li><strong>thin_start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the sample to begin returning samples. Default is to read
samples after burn in. To start from the beginning set thin_start
to 0.</li>
<li><strong>thin_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Interval to accept every i-th sample. Default is to use the
<cite>fp.acl</cite>. If <cite>fp.acl</cite> is not set, then use all samples
(set thin_interval to 1).</li>
<li><strong>thin_end</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the last sample to read. If not given then
<cite>fp.niterations</cite> is used.</li>
<li><strong>iteration</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Get a single iteration. If provided, will override the
<cite>thin_{start/interval/end}</cite> arguments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of acceptance fractions with shape (requested iterations,).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.types.html#module-pycbc.types.array" title="pycbc.types.array">array</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.read_acls">
<em class="property">static </em><code class="descname">read_acls</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.read_acls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.read_acls" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the acls of all the walker chains saved in the given file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the acls from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An nwalkers-long <cite>FieldArray</cite> containing the acl for each walker
and each variable argument, with the variable arguments as fields.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray">FieldArray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.read_samples">
<em class="property">classmethod </em><code class="descname">read_samples</code><span class="sig-paren">(</span><em>fp</em>, <em>parameters</em>, <em>thin_start=None</em>, <em>thin_interval=None</em>, <em>thin_end=None</em>, <em>iteration=None</em>, <em>walkers=None</em>, <em>flatten=True</em>, <em>samples_group=None</em>, <em>array_class=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.read_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.read_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads samples for the given parameter(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the samples from.</li>
<li><strong>parameters</strong> (<em></em><em>(</em><em>list of</em><em>) </em><em>strings</em>) &#8211; The parameter(s) to retrieve. A parameter can be the name of any
field in <cite>fp[fp.samples_group]</cite>, a virtual field or method of
<cite>FieldArray</cite> (as long as the file contains the necessary fields
to derive the virtual field or method), and/or a function of
these.</li>
<li><strong>thin_start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the sample to begin returning samples. Default is to read
samples after burn in. To start from the beginning set thin_start
to 0.</li>
<li><strong>thin_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Interval to accept every i-th sample. Default is to use the
<cite>fp.acl</cite>. If <cite>fp.acl</cite> is not set, then use all samples
(set thin_interval to 1).</li>
<li><strong>thin_end</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the last sample to read. If not given then
<cite>fp.niterations</cite> is used.</li>
<li><strong>iteration</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Get a single iteration. If provided, will override the
<cite>thin_{start/interval/end}</cite> arguments.</li>
<li><strong>walkers</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><em>int}</em>) &#8211; The walker index (or a list of indices) to retrieve. If None,
samples from all walkers will be obtained.</li>
<li><strong>flatten</strong> (<em>{True</em><em>, </em><em>bool}</em>) &#8211; The returned array will be one dimensional, with all desired
samples from all desired walkers concatenated together. If False,
the returned array will have dimension requested walkers
x requested iterations.</li>
<li><strong>samples_group</strong> (<em>{None</em><em>, </em><em>str}</em>) &#8211; The group in <cite>fp</cite> from which to retrieve the parameter fields. If
None, searches in <cite>fp.samples_group</cite>.</li>
<li><strong>array_class</strong> (<em>{None</em><em>, </em><em>array class}</em>) &#8211; The type of array to return. The class must have a <cite>from_kwargs</cite>
class method and a <cite>parse_parameters</cite> method. If None, will return
a FieldArray.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Samples for the given parameters, as an instance of a the given
<cite>array_class</cite> (<cite>FieldArray</cite> if <cite>array_class</cite> is None).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array_class</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt>
<code class="descname">sampler</code></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.set_p0">
<code class="descname">set_p0</code><span class="sig-paren">(</span><em>prior_distributions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.set_p0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.set_p0" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the initial position of the walkers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prior_distributions</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; A list of priors to retrieve random values from (the sort of
thing returned by <cite>prior.read_distributions_from_config</cite>).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>p0</strong> &#8211; An nwalkers x ndim array of the initial positions that were set.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="pycbc.types.html#module-pycbc.types.array" title="pycbc.types.array">array</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.write_acceptance_fraction">
<code class="descname">write_acceptance_fraction</code><span class="sig-paren">(</span><em>fp</em>, <em>start_iteration=0</em>, <em>end_iteration=None</em>, <em>max_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.write_acceptance_fraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.write_acceptance_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Write acceptance_fraction data to file. Results are written to
<cite>fp[acceptance_fraction]</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</li>
<li><strong>max_iterations</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; If acceptance fraction have not previously been written to the
file, a new dataset will be created. By default, the size of this
dataset will be whatever the length of the sampler&#8217;s chain is at
this point. If you intend to run more iterations, set this value
to that size so that arrays in the file will be large enough to
accomodate future data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.write_acls">
<em class="property">static </em><code class="descname">write_acls</code><span class="sig-paren">(</span><em>fp</em>, <em>acls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.write_acls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.write_acls" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given autocorrelation lengths to the given file. The acl
of each walker and each parameter is saved to
<cite>fp[fp.samples_group/{param}/walker{i}].attrs[&#8216;acl&#8217;]</cite>; the maximum
over all the walkers for a given param is saved to
<cite>fp[fp.samples_group/{param}].attrs[&#8216;acl&#8217;]</cite>; the maximum over all the
parameters and all of the walkers is saved to the file&#8217;s &#8216;acl&#8217;
attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to write the samples to.</li>
<li><strong>acls</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray"><em>FieldArray</em></a>) &#8211; An array of autocorrelation lengths (the sort of thing returned by
<cite>compute_acls</cite>).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The maximum of the acls that was written to the file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile.acl" title="pycbc.io.inference_hdf.InferenceFile.acl">acl</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.write_chain">
<code class="descname">write_chain</code><span class="sig-paren">(</span><em>fp</em>, <em>start_iteration=0</em>, <em>end_iteration=None</em>, <em>max_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.write_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.write_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the samples from the current chain to the given file. Results
are written to: <cite>fp[fp.samples_group/{vararg}/walker{i}]</cite>, where
<cite>{vararg}</cite> is the name of a variable arg, and <cite>{i}</cite> is the index of
a walker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</li>
<li><strong>start_iteration</strong> (<em>{0</em><em>, </em><em>int}</em>) &#8211; Write results starting from the given iteration.</li>
<li><strong>end_iteration</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Write results up to the given iteration.</li>
<li><strong>max_iterations</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; If samples have not previously been written to the file, a new
dataset will be created. By default, the size of this dataset will
be whatever the length of the sampler&#8217;s chain is at this point. If
you intend to run more iterations, set this value to that size so
that the array in the file will be large enough to accomodate
future data.</li>
<li><strong>samples_group</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#str" title="(in Python v2.7)"><em>str</em></a>) &#8211; Name of samples group to write.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.write_likelihood_stats">
<code class="descname">write_likelihood_stats</code><span class="sig-paren">(</span><em>fp</em>, <em>start_iteration=0</em>, <em>end_iteration=None</em>, <em>max_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.write_likelihood_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.write_likelihood_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the <cite>likelihood_stats</cite> to the given file.  Results are
written to: <cite>fp[fp.stats_group/{field}/walker{i}]</cite>, where <cite>{i}</cite> is
the index of a walker and <cite>{field}</cite> is the name of each field returned
by <cite>likelihood_stats</cite>. If nothing is returned by <cite>likelihood_stats</cite>,
this does nothing.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</li>
<li><strong>start_iteration</strong> (<em>{0</em><em>, </em><em>int}</em>) &#8211; Write results starting from the given iteration.</li>
<li><strong>end_iteration</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Write results up to the given iteration.</li>
<li><strong>max_iterations</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; If the stats have not previously been written to the file, a new
dataset will be created. By default, the size of this dataset will
be whatever the length of the sampler&#8217;s chain is at this point. If
you intend to run more iterations, set this value to that size so
that the array in the file will be large enough to accomodate
future data.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>stats</strong> &#8211; The stats that were written, as a FieldArray. If there were no
stats, returns None.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">{FieldArray, None}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.write_metadata">
<code class="descname">write_metadata</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes metadata about this sampler to the given file. Metadata is
written to the file&#8217;s <cite>attrs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_base.BaseMCMCSampler.write_results">
<code class="descname">write_results</code><span class="sig-paren">(</span><em>fp</em>, <em>start_iteration=0</em>, <em>end_iteration=None</em>, <em>max_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_base.html#BaseMCMCSampler.write_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_base.BaseMCMCSampler.write_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes metadata, samples, likelihood stats, and acceptance fraction
to the given file. Also computes and writes the autocorrleation lengths
of the chains. See the various write function for details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</li>
<li><strong>start_iteration</strong> (<em>{0</em><em>, </em><em>int}</em>) &#8211; Write results starting from the given iteration.</li>
<li><strong>end_iteration</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Write results up to the given iteration.</li>
<li><strong>max_iterations</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; If results have not previously been written to the
file, new datasets will be created. By default, the size of these
datasets will be whatever the length of the sampler&#8217;s chain is at
this point. If you intend to run more iterations in the future,
set this value to that size so that the array in the file will be
large enough to accomodate future data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.sampler_emcee">
<span id="pycbc-inference-sampler-emcee-module"></span><h2>pycbc.inference.sampler_emcee module<a class="headerlink" href="#module-pycbc.inference.sampler_emcee" title="Permalink to this headline">¶</a></h2>
<p>This modules provides classes and functions for using the emcee sampler
packages for parameter estimation.</p>
<dl class="class">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampler_emcee.</code><code class="descname">EmceeEnsembleSampler</code><span class="sig-paren">(</span><em>likelihood_evaluator</em>, <em>nwalkers</em>, <em>pool=None</em>, <em>burn_in_iterations=None</em>, <em>likelihood_call=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampler_base.BaseMCMCSampler" title="pycbc.inference.sampler_base.BaseMCMCSampler"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampler_base.BaseMCMCSampler</span></code></a></p>
<p>This class is used to construct an MCMC sampler from the emcee
package&#8217;s EnsembleSampler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>likelihood_evaluator</strong> (<em>likelihood class</em>) &#8211; An instance of the likelihood class from the
pycbc.inference.likelihood module.</li>
<li><strong>nwalkers</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of walkers to use in sampler.</li>
<li><strong>pool</strong> (<em>function with map</em><em>, </em><em>Optional</em>) &#8211; A provider of a map function that allows a function call to be run
over multiple sets of arguments and possibly maps them to cores/nodes/etc.</li>
<li><strong>burn_in_iterations</strong> (<em>{None</em><em>, </em><em>int}</em><em>, </em><em>Optional</em>) &#8211; Set the number of burn in iterations to use. If None,
<cite>burn_in_ieterations</cite> will be initialized to 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.burn_in">
<code class="descname">burn_in</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler.burn_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.burn_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the ensemble by the number of the sampler&#8217;s
<cite>burn_in_iterations</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>p</strong> (<em>numpy.array</em>) &#8211; An array of current walker positions with shape (nwalkers, ndim).</li>
<li><strong>lnpost</strong> (<em>{None, numpy.array}</em>) &#8211; The list of log posterior probabilities for the walkers at
positions p, with shape (nwalkers, ndim).</li>
<li><em>rstate</em> &#8211; The current state of the random number generator.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.chain">
<code class="descname">chain</code><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all past samples as an nwalker x niterations x ndim array.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.clear_chain">
<code class="descname">clear_chain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler.clear_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.clear_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the chain and blobs from memory.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.from_cli">
<em class="property">classmethod </em><code class="descname">from_cli</code><span class="sig-paren">(</span><em>opts</em>, <em>likelihood_evaluator</em>, <em>pool=None</em>, <em>likelihood_call=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler.from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance of this sampler from the given command-line
options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<em>ArgumentParser options</em>) &#8211; The options to parse.</li>
<li><strong>likelihood_evaluator</strong> (<em>LikelihoodEvaluator</em>) &#8211; The likelihood evaluator to use with the sampler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An emcee sampler initialized based on the given arguments.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler" title="pycbc.inference.sampler_emcee.EmceeEnsembleSampler">EmceeEnsembleSampler</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.lnpost">
<code class="descname">lnpost</code><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.lnpost" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the natural logarithm of the likelihood as an
nwalkers x niterations array.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.name">
<code class="descname">name</code><em class="property"> = 'emcee'</em><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.read_acceptance_fraction">
<em class="property">static </em><code class="descname">read_acceptance_fraction</code><span class="sig-paren">(</span><em>fp</em>, <em>walkers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler.read_acceptance_fraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.read_acceptance_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the acceptance fraction from the given file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the samples from.</li>
<li><strong>walkers</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><em>int}</em>) &#8211; The walker index (or a list of indices) to retrieve. If None,
samples from all walkers will be obtained.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of acceptance fractions with shape (requested walkers,).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.types.html#module-pycbc.types.array" title="pycbc.types.array">array</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>niterations</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the ensemble for a number of samples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>niterations</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of samples to get from sampler.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>p</strong> (<em>numpy.array</em>) &#8211; An array of current walker positions with shape (nwalkers, ndim).</li>
<li><strong>lnpost</strong> (<em>numpy.array</em>) &#8211; The list of log posterior probabilities for the walkers at
positions p, with shape (nwalkers, ndim).</li>
<li><em>rstate</em> &#8211; The current state of the random number generator.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.write_acceptance_fraction">
<code class="descname">write_acceptance_fraction</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler.write_acceptance_fraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.write_acceptance_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Write acceptance_fraction data to file. Results are written to
<cite>fp[acceptance_fraction]</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceeEnsembleSampler.write_results">
<code class="descname">write_results</code><span class="sig-paren">(</span><em>fp</em>, <em>start_iteration=0</em>, <em>end_iteration=None</em>, <em>max_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceeEnsembleSampler.write_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceeEnsembleSampler.write_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes metadata, samples, likelihood stats, and acceptance fraction
to the given file. See the write function for each of those for
details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</li>
<li><strong>start_iteration</strong> (<em>{0</em><em>, </em><em>int}</em>) &#8211; Write results starting from the given iteration.</li>
<li><strong>end_iteration</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Write results up to the given iteration.</li>
<li><strong>max_iterations</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; If results have not previously been written to the
file, new datasets will be created. By default, the size of these
datasets will be whatever the length of the sampler&#8217;s chain is at
this point. If you intend to run more iterations in the future,
set this value to that size so that the array in the file will be
large enough to accomodate future data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampler_emcee.</code><code class="descname">EmceePTSampler</code><span class="sig-paren">(</span><em>likelihood_evaluator</em>, <em>ntemps</em>, <em>nwalkers</em>, <em>pool=None</em>, <em>burn_in_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampler_base.BaseMCMCSampler" title="pycbc.inference.sampler_base.BaseMCMCSampler"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampler_base.BaseMCMCSampler</span></code></a></p>
<p>This class is used to construct a parallel-tempered MCMC sampler from
the emcee package&#8217;s PTSampler.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>likelihood_evaluator</strong> (<em>likelihood class</em>) &#8211; An instance of the likelihood class from the
pycbc.inference.likelihood module.</li>
<li><strong>ntemps</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of temeratures to use in the sampler.</li>
<li><strong>nwalkers</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of walkers to use in sampler.</li>
<li><strong>pool</strong> (<em>function with map</em><em>, </em><em>Optional</em>) &#8211; A provider of a map function that allows a function call to be run
over multiple sets of arguments and possibly maps them to cores/nodes/etc.</li>
<li><strong>burn_in_iterations</strong> (<em>{None</em><em>, </em><em>int}</em><em>, </em><em>Optional</em>) &#8211; Set the number of burn in iterations to use. If None,
<cite>burn_in_ieterations</cite> will be initialized to 0.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.burn_in">
<code class="descname">burn_in</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.burn_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.burn_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the ensemble by the number of the sampler&#8217;s
<cite>burn_in_iterations</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>p</strong> (<em>numpy.array</em>) &#8211; An array of current walker positions with shape (nwalkers, ndim).</li>
<li><strong>lnpost</strong> (<em>{None, numpy.array}</em>) &#8211; The list of log posterior probabilities for the walkers at
positions p, with shape (nwalkers, ndim).</li>
<li><em>rstate</em> &#8211; The current state of the random number generator.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.calculate_logevidence">
<em class="property">classmethod </em><code class="descname">calculate_logevidence</code><span class="sig-paren">(</span><em>fp</em>, <em>thin_start=None</em>, <em>thin_end=None</em>, <em>thin_interval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.calculate_logevidence"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.calculate_logevidence" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the log evidence from the given file using emcee&#8217;s
thermodynamic integration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the stats from.</li>
<li><strong>thin_start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the sample to begin returning stats. Default is to read
stats after burn in. To start from the beginning set thin_start
to 0.</li>
<li><strong>thin_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Interval to accept every i-th sample. Default is to use the
<cite>fp.acl</cite>. If <cite>fp.acl</cite> is not set, then use all stats
(set thin_interval to 1).</li>
<li><strong>thin_end</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the last sample to read. If not given then
<cite>fp.niterations</cite> is used.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>lnZ</strong> (<em>float</em>) &#8211; The estimate of log of the evidence.</li>
<li><strong>dlnZ</strong> (<em>float</em>) &#8211; The error on the estimate.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.chain">
<code class="descname">chain</code><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all past samples as an ntemps x nwalker x niterations x ndim
array.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.clear_chain">
<code class="descname">clear_chain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.clear_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.clear_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the chain and blobs from memory.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.compute_acls">
<em class="property">classmethod </em><code class="descname">compute_acls</code><span class="sig-paren">(</span><em>fp</em>, <em>start_index=None</em>, <em>end_index=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.compute_acls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.compute_acls" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the autocorrleation length for all variable args for all
walkers for all temps in the given file. If the returned acl is inf,
will default to the number of requested iterations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the samples from.</li>
<li><strong>start_index</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; The start index to compute the acl from. If None, will try to use
the number of burn-in iterations in the file; otherwise, will start
at the first sample.</li>
<li><strong>end_index</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; The end index to compute the acl to. If None, will go to the end
of the current iteration.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An ntemps x nwalkers <cite>FieldArray</cite> containing the acl for each
walker and temp for each variable argument, with the variable
arguments as fields.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray">FieldArray</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.from_cli">
<em class="property">classmethod </em><code class="descname">from_cli</code><span class="sig-paren">(</span><em>opts</em>, <em>likelihood_evaluator</em>, <em>pool=None</em>, <em>likelihood_call=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance of this sampler from the given command-line
options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<em>ArgumentParser options</em>) &#8211; The options to parse.</li>
<li><strong>likelihood_evaluator</strong> (<em>LikelihoodEvaluator</em>) &#8211; The likelihood evaluator to use with the sampler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">An emcee sampler initialized based on the given arguments.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pycbc.inference.sampler_emcee.EmceePTSampler" title="pycbc.inference.sampler_emcee.EmceePTSampler">EmceePTSampler</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.likelihood_stats">
<code class="descname">likelihood_stats</code><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.likelihood_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the log likelihood ratio and log prior as a FieldArray.
The returned array has shape ntemps x nwalkers x niterations.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.lnpost">
<code class="descname">lnpost</code><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.lnpost" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the natural logarithm of the likelihood + the prior as an
ntemps x nwalkers x niterations array.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.name">
<code class="descname">name</code><em class="property"> = 'emcee_pt'</em><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.ntemps">
<code class="descname">ntemps</code><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.ntemps" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.read_acceptance_fraction">
<em class="property">static </em><code class="descname">read_acceptance_fraction</code><span class="sig-paren">(</span><em>fp</em>, <em>temps=None</em>, <em>walkers=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.read_acceptance_fraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.read_acceptance_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the acceptance fraction from the given file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the samples from.</li>
<li><strong>temps</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><em>int}</em>) &#8211; The temperature index (or a list of indices) to retrieve. If None,
acfs from all temperatures and all walkers will be retrieved.</li>
<li><strong>walkers</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><em>int}</em>) &#8211; The walker index (or a list of indices) to retrieve. If None,
samples from all walkers will be obtained.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Array of acceptance fractions with shape (requested temps,
requested walkers).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.types.html#module-pycbc.types.array" title="pycbc.types.array">array</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.read_acls">
<em class="property">static </em><code class="descname">read_acls</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.read_acls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.read_acls" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads the acls of all the walker chains saved in the given file.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the acls from.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An ntemps x nwalkers <cite>FieldArray</cite> containing the acls for
every temp and walker, with the variable arguments as fields.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray">FieldArray</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.read_samples">
<em class="property">classmethod </em><code class="descname">read_samples</code><span class="sig-paren">(</span><em>fp</em>, <em>parameters</em>, <em>thin_start=None</em>, <em>thin_interval=None</em>, <em>thin_end=None</em>, <em>iteration=None</em>, <em>temps=0</em>, <em>walkers=None</em>, <em>flatten=True</em>, <em>samples_group=None</em>, <em>array_class=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.read_samples"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.read_samples" title="Permalink to this definition">¶</a></dt>
<dd><p>Reads samples for the given parameter(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to read the samples from.</li>
<li><strong>parameters</strong> (<em></em><em>(</em><em>list of</em><em>) </em><em>strings</em>) &#8211; The parameter(s) to retrieve. A parameter can be the name of any
field in <cite>fp[fp.samples_group]</cite>, a virtual field or method of
<cite>FieldArray</cite> (as long as the file contains the necessary fields
to derive the virtual field or method), and/or a function of
these.</li>
<li><strong>thin_start</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the sample to begin returning samples. Default is to read
samples after burn in. To start from the beginning set thin_start
to 0.</li>
<li><strong>thin_interval</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Interval to accept every i-th sample. Default is to use the
<cite>fp.acl</cite>. If <cite>fp.acl</cite> is not set, then use all samples
(set thin_interval to 1).</li>
<li><strong>thin_end</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Index of the last sample to read. If not given then
<cite>fp.niterations</cite> is used.</li>
<li><strong>iteration</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Get a single iteration. If provided, will override the
<cite>thin_{start/interval/end}</cite> arguments.</li>
<li><strong>walkers</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><em>int}</em>) &#8211; The walker index (or a list of indices) to retrieve. If None,
samples from all walkers will be obtained.</li>
<li><strong>temps</strong> (<em>{None</em><em>, </em><em></em><em>(</em><em>list of</em><em>) </em><a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a><em>, </em><em>'all'}</em>) &#8211; The temperature index (or list of indices) to retrieve. If None,
only samples from the coldest (= 0) temperature chain will be
retrieved. To retrieve all temperates pass &#8216;all&#8217;, or a list of
all of the temperatures.</li>
<li><strong>flatten</strong> (<em>{True</em><em>, </em><em>bool}</em>) &#8211; The returned array will be one dimensional, with all desired
samples from all desired walkers concatenated together. If False,
the returned array will have dimension requested temps x requested
walkers x requested iterations.</li>
<li><strong>samples_group</strong> (<em>{None</em><em>, </em><em>str}</em>) &#8211; The group in <cite>fp</cite> from which to retrieve the parameter fields. If
None, searches in <cite>fp.samples_group</cite>.</li>
<li><strong>array_class</strong> (<em>{None</em><em>, </em><em>array class}</em>) &#8211; The type of array to return. The class must have a <cite>from_kwargs</cite>
class method and a <cite>parse_parameters</cite> method. If None, will return
a FieldArray.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Samples for the given parameters, as an instance of a the given
<cite>array_class</cite> (<cite>FieldArray</cite> if <cite>array_class</cite> is None).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">array_class</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>niterations</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the ensemble for a number of samples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>niterations</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of samples to get from sampler.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>p</strong> (<em>numpy.array</em>) &#8211; An array of current walker positions with shape (nwalkers, ndim).</li>
<li><strong>lnpost</strong> (<em>numpy.array</em>) &#8211; The list of log posterior probabilities for the walkers at
positions p, with shape (nwalkers, ndim).</li>
<li><em>rstate</em> &#8211; The current state of the random number generator.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.set_p0">
<code class="descname">set_p0</code><span class="sig-paren">(</span><em>prior_distributions</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.set_p0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.set_p0" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the initial position of the walkers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>prior_distributions</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; A list of priors to retrieve random values from (the sort of
thing returned by <cite>prior.read_distributions_from_config</cite>).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>p0</strong> &#8211; An ntemps x nwalkers x ndim array of the initial positions that
were set.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="pycbc.types.html#module-pycbc.types.array" title="pycbc.types.array">array</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.write_acceptance_fraction">
<code class="descname">write_acceptance_fraction</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.write_acceptance_fraction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.write_acceptance_fraction" title="Permalink to this definition">¶</a></dt>
<dd><p>Write acceptance_fraction data to file. Results are written to
<cite>fp[acceptance_fraction/temp{k}]</cite> where k is the temperature.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.write_acls">
<em class="property">static </em><code class="descname">write_acls</code><span class="sig-paren">(</span><em>fp</em>, <em>acls</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.write_acls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.write_acls" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given autocorrelation lengths to the given file. The acl
of each walker at each temperature and each parameter is saved to
<cite>fp[fp.samples_group/{param}/temp{k}/walker{i}].attrs[&#8216;acl&#8217;]</cite>; the
maximum over all the walkers for a given temperature and param is
saved to <cite>fp[fp.samples_group/{param}/temp{k}].attrs[&#8216;acl&#8217;]</cite>; the
maximum over all of the temperatures and walkers is saved to
<cite>fp[fp.samples_group/{param}].attrs[&#8216;acl&#8217;]</cite>; the maximum over all the
parameters, temperatures, and walkers is saved to the file&#8217;s &#8216;acl&#8217;
attribute.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; An open file handler to write the samples to.</li>
<li><strong>acls</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.record.FieldArray" title="pycbc.io.record.FieldArray"><em>FieldArray</em></a>) &#8211; An array of autocorrelation lengths (the sort of thing returned by
<cite>compute_acls</cite>).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The maximum of the acls that was written to the file.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile.acl" title="pycbc.io.inference_hdf.InferenceFile.acl">acl</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.write_likelihood_stats">
<code class="descname">write_likelihood_stats</code><span class="sig-paren">(</span><em>fp</em>, <em>start_iteration=0</em>, <em>end_iteration=None</em>, <em>max_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.write_likelihood_stats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.write_likelihood_stats" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the given likelihood array to the given file. Results are
written to: <cite>fp[fp.stats_group/{field}/temp{k}/walker{i}]</cite>, where
<cite>{field}</cite> is the name of stat (<cite>loglr</cite>, <cite>prior</cite>), <cite>{k}</cite> is a
temperature index (smaller = colder) and <cite>{i}</cite> is the index of a
walker.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</li>
<li><strong>start_iteration</strong> (<em>{0</em><em>, </em><em>int}</em>) &#8211; Write results starting from the given iteration.</li>
<li><strong>end_iteration</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Write results up to the given iteration.</li>
<li><strong>max_iterations</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; See <cite>write_chain</cite> for details.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.write_metadata">
<code class="descname">write_metadata</code><span class="sig-paren">(</span><em>fp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.write_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.write_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes metadata about this sampler to the given file. Metadata is
written to the file&#8217;s <cite>attrs</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_emcee.EmceePTSampler.write_results">
<code class="descname">write_results</code><span class="sig-paren">(</span><em>fp</em>, <em>start_iteration=0</em>, <em>end_iteration=None</em>, <em>max_iterations=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_emcee.html#EmceePTSampler.write_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_emcee.EmceePTSampler.write_results" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes metadata, samples, likelihood stats, and acceptance fraction
to the given file. See the write function for each of those for
details.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>fp</strong> (<a class="reference internal" href="pycbc.io.html#pycbc.io.inference_hdf.InferenceFile" title="pycbc.io.inference_hdf.InferenceFile"><em>InferenceFile</em></a>) &#8211; A file handler to an open inference file.</li>
<li><strong>start_iteration</strong> (<em>{0</em><em>, </em><em>int}</em>) &#8211; Write results starting from the given iteration.</li>
<li><strong>end_iteration</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Write results up to the given iteration.</li>
<li><strong>max_iterations</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; If results have not previously been written to the
file, new datasets will be created. By default, the size of these
datasets will be whatever the length of the sampler&#8217;s chain is at
this point. If you intend to run more iterations in the future,
set this value to that size so that the array in the file will be
large enough to accomodate future data.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.sampler_kombine">
<span id="pycbc-inference-sampler-kombine-module"></span><h2>pycbc.inference.sampler_kombine module<a class="headerlink" href="#module-pycbc.inference.sampler_kombine" title="Permalink to this headline">¶</a></h2>
<p>This modules provides classes and functions for using the kombine sampler
packages for parameter estimation.</p>
<dl class="class">
<dt id="pycbc.inference.sampler_kombine.KombineSampler">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampler_kombine.</code><code class="descname">KombineSampler</code><span class="sig-paren">(</span><em>likelihood_evaluator</em>, <em>nwalkers</em>, <em>transd=False</em>, <em>min_burn_in=None</em>, <em>pool=None</em>, <em>likelihood_call=None</em>, <em>update_interval=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_kombine.html#KombineSampler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampler_base.BaseMCMCSampler" title="pycbc.inference.sampler_base.BaseMCMCSampler"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampler_base.BaseMCMCSampler</span></code></a></p>
<p>This class is used to construct the MCMC sampler from the kombine
package.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>likelihood_evaluator</strong> (<em>likelihood class</em>) &#8211; An instance of the likelihood class from the
pycbc.inference.likelihood module.</li>
<li><strong>nwalkers</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of walkers to use in sampler.</li>
<li><strong>transd</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#bool" title="(in Python v2.7)"><em>bool</em></a>) &#8211; If True, the sampler will operate across parameter spaces using a
kombine.clustered_kde.TransdimensionalKDE proposal distribution. In
this mode a masked array with samples in each of the possible sets of
dimensions must be given for the initial ensemble distribution.</li>
<li><strong>processes</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Number of processes to use with multiprocessing. If None, all available
cores are used.</li>
<li><strong>min_burn_in</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Set the minimum number of burn in iterations to use. If None,
<cite>burn_in_iterations</cite> will be initialized to <cite>0</cite>.</li>
<li><strong>update_interval</strong> (<em>{None</em><em>, </em><em>int}</em>) &#8211; Make the sampler update the proposal densities every <cite>update_interval</cite>
iterations.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<dl class="method">
<dt id="pycbc.inference.sampler_kombine.KombineSampler.burn_in">
<code class="descname">burn_in</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_kombine.html#KombineSampler.burn_in"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler.burn_in" title="Permalink to this definition">¶</a></dt>
<dd><p>Use kombine&#8217;s <cite>burnin</cite> routine to advance the sampler.</p>
<p>If a minimum number of burn-in iterations was specified, this will run
the burn-in until it has advanced at least as many steps as desired.
The initial positions (p0) must be set prior to running.</p>
<p>For more details, see <cite>kombine.sampler.burnin</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>p</strong> (<em>numpy.array</em>) &#8211; An array of current walker positions with shape (nwalkers, ndim).</li>
<li><strong>lnpost</strong> (<em>numpy.array</em>) &#8211; The list of log posterior probabilities for the walkers at
positions p, with shape (nwalkers, ndim).</li>
<li><strong>lnprop</strong> (<em>numpy.array</em>) &#8211; The list of log proposal densities for the walkers at positions p,
with shape (nwalkers, ndim).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_kombine.KombineSampler.chain">
<code class="descname">chain</code><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler.chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Get all past samples as an nwalker x niterations x ndim array.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_kombine.KombineSampler.clear_chain">
<code class="descname">clear_chain</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_kombine.html#KombineSampler.clear_chain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler.clear_chain" title="Permalink to this definition">¶</a></dt>
<dd><p>Clears the chain and blobs from memory.</p>
</dd></dl>

<dl class="classmethod">
<dt id="pycbc.inference.sampler_kombine.KombineSampler.from_cli">
<em class="property">classmethod </em><code class="descname">from_cli</code><span class="sig-paren">(</span><em>opts</em>, <em>likelihood_evaluator</em>, <em>pool=None</em>, <em>likelihood_call=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_kombine.html#KombineSampler.from_cli"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler.from_cli" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an instance of this sampler from the given command-line
options.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>opts</strong> (<em>ArgumentParser options</em>) &#8211; The options to parse.</li>
<li><strong>likelihood_evaluator</strong> (<em>LikelihoodEvaluator</em>) &#8211; The likelihood evaluator to use with the sampler.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A kombine sampler initialized based on the given arguments.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#pycbc.inference.sampler_kombine.KombineSampler" title="pycbc.inference.sampler_kombine.KombineSampler">KombineSampler</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_kombine.KombineSampler.lnpost">
<code class="descname">lnpost</code><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler.lnpost" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the natural logarithm of the likelihood as an
nwalkers x niterations array.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampler_kombine.KombineSampler.name">
<code class="descname">name</code><em class="property"> = 'kombine'</em><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampler_kombine.KombineSampler.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>niterations</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampler_kombine.html#KombineSampler.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampler_kombine.KombineSampler.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Advance the sampler for a number of samples.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>niterations</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#int" title="(in Python v2.7)"><em>int</em></a>) &#8211; Number of samples to get from sampler.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><ul class="simple">
<li><strong>p</strong> (<em>numpy.array</em>) &#8211; An array of current walker positions with shape (nwalkers, ndim).</li>
<li><strong>lnpost</strong> (<em>numpy.array</em>) &#8211; The list of log posterior probabilities for the walkers at
positions p, with shape (nwalkers, ndim).</li>
<li><strong>lnprop</strong> (<em>numpy.array</em>) &#8211; The list of log proposal densities for the walkers at positions p,
with shape (nwalkers, ndim).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-pycbc.inference.sampling_conversions">
<span id="pycbc-inference-sampling-conversions-module"></span><h2>pycbc.inference.sampling_conversions module<a class="headerlink" href="#module-pycbc.inference.sampling_conversions" title="Permalink to this headline">¶</a></h2>
<p>This modules provides classes and functions for converting sampling parameters
to a set of base parameters.</p>
<dl class="class">
<dt id="pycbc.inference.sampling_conversions.AlignedMassSpinToCartesianSpin">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">AlignedMassSpinToCartesianSpin</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#AlignedMassSpinToCartesianSpin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.AlignedMassSpinToCartesianSpin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampling_conversions.BaseConversion" title="pycbc.inference.sampling_conversions.BaseConversion"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampling_conversions.BaseConversion</span></code></a></p>
<p>Converts mass-weighted spins to cartesian z-axis spins.</p>
</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampling_conversions.BaseConversion">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">BaseConversion</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#BaseConversion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.BaseConversion" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/2/library/functions.html#object" title="(in Python v2.7)"><code class="xref py py-class docutils literal"><span class="pre">object</span></code></a></p>
<p>A base class for converting between two sets of parameters.</p>
<dl class="method">
<dt id="pycbc.inference.sampling_conversions.BaseConversion.convert">
<code class="descname">convert</code><span class="sig-paren">(</span><em>old_maps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#BaseConversion.convert"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.BaseConversion.convert" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert inputs to outputs. This function accepts either
a FieldArray or dict. It will return the same output type as the
input mapping object. Internally it calls _convert.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>old_maps</strong> (<em>{FieldArray</em><em>, </em><em>dict}</em>) &#8211; Mapping object to add new keys.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Mapping object with new keys.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">{FieldArray, dict}</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="staticmethod">
<dt id="pycbc.inference.sampling_conversions.BaseConversion.format_output">
<em class="property">static </em><code class="descname">format_output</code><span class="sig-paren">(</span><em>old_maps</em>, <em>new_maps</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#BaseConversion.format_output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.BaseConversion.format_output" title="Permalink to this definition">¶</a></dt>
<dd><p>This function takes the returned dict from _convert and converts
it to the same datatype as the input to _convert.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>old_maps</strong> (<em>{FieldArray</em><em>, </em><em>dict}</em>) &#8211; The mapping object to add new maps to.</li>
<li><strong>new_maps</strong> (<a class="reference external" href="https://docs.python.org/2/library/stdtypes.html#dict" title="(in Python v2.7)"><em>dict</em></a>) &#8211; A dict with key as parameter name and value is numpy.array.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">The old_maps object with new keys from new_maps.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">{FieldArray, dict}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampling_conversions.BaseConversion.inputs">
<code class="descname">inputs</code><a class="headerlink" href="#pycbc.inference.sampling_conversions.BaseConversion.inputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a set of input parameters.</p>
</dd></dl>

<dl class="method">
<dt id="pycbc.inference.sampling_conversions.BaseConversion.inverse">
<code class="descname">inverse</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#BaseConversion.inverse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.BaseConversion.inverse" title="Permalink to this definition">¶</a></dt>
<dd><p>Inverts the conversions being done. Inputs become outputs and
vice versa. The function convert will now call the inverse
transformation.</p>
</dd></dl>

<dl class="attribute">
<dt id="pycbc.inference.sampling_conversions.BaseConversion.outputs">
<code class="descname">outputs</code><a class="headerlink" href="#pycbc.inference.sampling_conversions.BaseConversion.outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a set of output parameters.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampling_conversions.ChiPToCartesianSpin">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">ChiPToCartesianSpin</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#ChiPToCartesianSpin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.ChiPToCartesianSpin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampling_conversions.BaseConversion" title="pycbc.inference.sampling_conversions.BaseConversion"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampling_conversions.BaseConversion</span></code></a></p>
<p>Converts chi_p to cartesian spins.</p>
</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampling_conversions.DistanceToRedshift">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">DistanceToRedshift</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#DistanceToRedshift"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.DistanceToRedshift" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampling_conversions.BaseConversion" title="pycbc.inference.sampling_conversions.BaseConversion"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampling_conversions.BaseConversion</span></code></a></p>
<p>Converts distance to redshift.</p>
</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampling_conversions.MchirpQToMass1Mass2">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">MchirpQToMass1Mass2</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#MchirpQToMass1Mass2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.MchirpQToMass1Mass2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampling_conversions.BaseConversion" title="pycbc.inference.sampling_conversions.BaseConversion"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampling_conversions.BaseConversion</span></code></a></p>
<p>Converts chirp mass and mass ratio to component masses.</p>
</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampling_conversions.PrecessionMassSpinToCartesianSpin">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">PrecessionMassSpinToCartesianSpin</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#PrecessionMassSpinToCartesianSpin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.PrecessionMassSpinToCartesianSpin" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampling_conversions.BaseConversion" title="pycbc.inference.sampling_conversions.BaseConversion"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampling_conversions.BaseConversion</span></code></a></p>
<p>Converts mass-weighted spins to cartesian x-y plane spins.</p>
</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampling_conversions.SphericalSpin1ToCartesianSpin1">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">SphericalSpin1ToCartesianSpin1</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#SphericalSpin1ToCartesianSpin1"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.SphericalSpin1ToCartesianSpin1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampling_conversions.BaseConversion" title="pycbc.inference.sampling_conversions.BaseConversion"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampling_conversions.BaseConversion</span></code></a></p>
<p>Converts spherical spin parameters (magnitude and two angles) to
catesian spin parameters. This class only converts spsins for the first
component mass.</p>
</dd></dl>

<dl class="class">
<dt id="pycbc.inference.sampling_conversions.SphericalSpin2ToCartesianSpin2">
<em class="property">class </em><code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">SphericalSpin2ToCartesianSpin2</code><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#SphericalSpin2ToCartesianSpin2"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.SphericalSpin2ToCartesianSpin2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pycbc.inference.sampling_conversions.SphericalSpin1ToCartesianSpin1" title="pycbc.inference.sampling_conversions.SphericalSpin1ToCartesianSpin1"><code class="xref py py-class docutils literal"><span class="pre">pycbc.inference.sampling_conversions.SphericalSpin1ToCartesianSpin1</span></code></a></p>
<p>Converts spherical spin parameters (magnitude and two angles) to
catesian spin parameters. This class only converts spsins for the second
component mass.</p>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.sampling_conversions.apply_conversions">
<code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">apply_conversions</code><span class="sig-paren">(</span><em>samples</em>, <em>cs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#apply_conversions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.apply_conversions" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies a list of BaseConversion instances on a mapping object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>samples</strong> (<em>{FieldArray</em><em>, </em><em>dict}</em>) &#8211; Mapping object to apply conversions to.</li>
<li><strong>cs</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; List of BaseConversion instances to apply.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>samples</strong> &#8211; Mapping object with conversions applied. Same type as input.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">{FieldArray, dict}</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="pycbc.inference.sampling_conversions.get_conversions">
<code class="descclassname">pycbc.inference.sampling_conversions.</code><code class="descname">get_conversions</code><span class="sig-paren">(</span><em>requested_params</em>, <em>variable_args</em>, <em>valid_params=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/pycbc/inference/sampling_conversions.html#get_conversions"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pycbc.inference.sampling_conversions.get_conversions" title="Permalink to this definition">¶</a></dt>
<dd><p>Determines if any additional parameters from the InferenceFile are
needed to get derived parameters that user has asked for.</p>
<p>First it will try to add any base parameters that are required to calculate
the derived parameters. Then it will add any sampling parameters that are
required to calculate the base parameters needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>requested_params</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; List of parameters that user wants.</li>
<li><strong>variable_args</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; List of parameters that InferenceFile has.</li>
<li><strong>valid_params</strong> (<a class="reference external" href="https://docs.python.org/2/library/functions.html#list" title="(in Python v2.7)"><em>list</em></a>) &#8211; List of parameters that can be accepted.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><ul class="simple">
<li><strong>requested_params</strong> (<em>list</em>) &#8211; Updated list of parameters that user wants.</li>
<li><strong>all_c</strong> (<em>list</em>) &#8211; List of BaseConversions to apply.</li>
</ul>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-pycbc.inference">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-pycbc.inference" title="Permalink to this headline">¶</a></h2>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="pycbc.inject.html" class="btn btn-neutral float-right" title="pycbc.inject package" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="pycbc.filter.html" class="btn btn-neutral" title="pycbc.filter package" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2015, 2016, 2017, Alexander Nitz, Ian Harry, Christopher M. Biwer, Duncan A.  Brown, Josh Willis, and Tito Dal Canton.
      Last updated on May 04, 2017.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'785ddb',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/typed.min.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>